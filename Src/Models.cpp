/* naPalm Racing

  Copyright (C) 2004

  Author: Alexander Semenov <acmain@gmail.com>
*/

//================================================================
//	создание моделей
//================================================================
#include "model.h"


#undef MODEL
#define MODEL(name)	namespace data { namespace name {
#define VERTEXES		Vertex	vertexes[]=
#define POLYGONS		Polygon	polygons[]=
#define RENDERING		Int8		rendering[]=

#define END_MODEL(name)\
	}}\
	model	name(sizeof(data::name::vertexes)/sizeof(Vertex),\
		data::name::vertexes,\
		data::name::polygons,\
		data::name::rendering);

#define	END	-1	// нет данных


//============================================================
//	Здесь все модели
//============================================================
MODEL	( car_low )
	VERTEXES
	{
		Vertex(-17,	10,	10	),	//	0
		Vertex(-17,	-10,	10	),	//	1
		Vertex(1,	0,	10	),	//	2
		Vertex(9,	12,	4	),	//	3
		Vertex(9,	-12,	4	),	//	4
		Vertex(-23,	12,	12	),	//	5
		Vertex(23,	12,	0	),	//	6
		Vertex(-23,	-12,	12	),	//	7
		Vertex(23,	-12,	0	),	//	8
		Vertex(-21,	-12,	0	),	//	9
		Vertex(-21,	12,	0	) 	//	10
	};
	POLYGONS
	{
		{0,		{	0,	1,	2,	-1	}},	//	0	крыша
		{15,	{	2,	0,	3,	-1	}},	//	1	левое окно
		{13,	{	2,	3,	4,	-1	}},	//	2	лобовое стекло
		{11,	{	1,	2,	4,	-1	}},	//	3	правое окно
		{1,		{	5,	7,	6,	8	}},	//	4	кузов
		{3,		{	7,	9,	8,	-1	}},	//	5	правый борт
		{3,		{	5,	7,	9,	10	}},	//	6	зад
		{3,		{	5,	6,	10,	-1	}} 	//	7	левый борт
	};
	RENDERING
	{
		4,	7,	3,	2,	1,	0,	-1,	//	0..45
		4,	7,	3,	2,	1,	0,	-1,	//	45..90
		6,	4,	1,	0,	7,	-1,	//	90..135
		7,	4,	1,	0,	6,	-1,	//	135..180
		5,	4,	3,	0,	6,	-1,	//	180..225
		6,	4,	3,	2,	5,	-1,	//	225..270
		4,	5,	1,	2,	3,	0,	-1,	//	270..315
		4,	5,	1,	2,	3,	0,	-1,	//	315..360
		6,	-1,
	};
END_MODEL ( car_low )


//============================================================
MODEL	( car_med )
	VERTEXES
	{
		Vertex(-16,	10,	10	),	//	0
		Vertex(10,	12,	6	),	//	1
		Vertex(2,	10,	10	),	//	2
		Vertex(20,	-12,	0	),	//	3
		Vertex(-24,	-12,	10	),	//	4
		Vertex(-20,	-12,	0	),	//	5
		Vertex(14,	-14,	6	),	//	6
		Vertex(-16,	-10,	10	),	//	7
		Vertex(2,	-10,	10	),	//	8
		Vertex(10,	-12,	6	),	//	9
		Vertex(-10,	12,	0	),	//	10
		Vertex(-8,	12,	4	),	//	11
		Vertex(-16,	12,	0	),	//	12
		Vertex(-18,	12,	6	),	//	13
		Vertex(14,	12,	0	),	//	14
		Vertex(16,	12,	2	),	//	15
		Vertex(8,	12,	0	),	//	16
		Vertex(6,	12,	4	),	//	17
		Vertex(8,	-12,	0	),	//	18
		Vertex(6,	-12,	4	),	//	19
		Vertex(14,	-12,	0	),	//	20
		Vertex(16,	-12,	2	),	//	21
		Vertex(-16,	-12,	0	),	//	22
		Vertex(-18,	-12,	6	),	//	23
		Vertex(-10,	-12,	0	),	//	24
		Vertex(-8,	-12,	4	),	//	25
		Vertex(-20,	12,	0	),	//	26
		Vertex(-24,	12,	10	),	//	27
		Vertex(14,	14,	6	),	//	28
		Vertex(20,	12,	0	) 	//	29
	};
	POLYGONS
	{
		{15,	{	0,	2,	1,	-1	}},	//	0	левое окно
		{4,		{	4,	3,	5,	-1	}},	//	1	правый борт
		{2,		{	4,	6,	3,	-1	}},	//	2	правый борт
		{11,	{	7,	8,	9,	-1	}},	//	3	правое окно
		{0,		{	2,	8,	0,	7	}},	//	4	крыша
		{13,	{	2,	8,	1,	9	}},	//	5	лобовое стекло
		{15,	{	13,	11,	12,	10	}},	//	6	заднее левое колесо
		{15,	{	17,	15,	16,	14	}},	//	7	переднее левое колесо
		{15,	{	19,	21,	20,	18	}},	//	8	переднее правое колесо
		{15,	{	23,	25,	24,	22	}},	//	9	заднее правое колесо
		{3,		{	27,	4,	5,	26	}},	//	10	зад
		{1,		{	4,	27,	28,	6	}},	//	11	кузов
		{2,		{	6,	28,	29,	3	}},	//	12	капот
		{2,		{	27,	28,	29,	-1	}},	//	13	левый борт
		{4,		{	27,	29,	26,	-1	}}, //	14	левый борт
		{0,		{	8,	9,	-1,	-1	}}, //	15	правая стойка
		{0,		{	2,	1,	-1,	-1	}} 	//	16	левая стойка
	};
	RENDERING
	{
		13,	14,	7,	6,	11,	12,	0,	5,	15,	16,	4,	-1,	//	0..45
		11,	5,	12,	14,	0,	16,	13,	6,	7,	4,	-1,	//	45..90
		10,	12,	11,	13,	0,	14,	5,	7,	6,	4,	-1,	//	90..135
		13,	14,	6,	7,	11,	0,	10,	4,	-1,	//	135..180
		2,	1,	8,	9,	11,	3,	10,	4,	-1,	//	180..225
		10,	12,	11,	1,	2,	8,	9,	3,	5,	4,	-1,	//	225..270
		11,	5,	12,	1,	3,	15,	2,	8,	9,	4,	-1,	//	270..315
		1,	2,	8,	9,	11,	12,	3,	5,	16,	15,	4,	-1, 	//	315..360
		11,	10,	4,	-1,	// 180
	};
END_MODEL ( car_med )


//=================================================================
MODEL	( car_high )
	VERTEXES
	{
		Vertex(15,	-12,	0	),	//	0
		Vertex(16,	-13,	3	),	//	1
		Vertex(13,	-13,	0	),	//	2
		Vertex(7,	-13,	4	),	//	3
		Vertex(9,	-12,	0	),	//	4
		Vertex(-7,	-13,	4	),	//	5
		Vertex(-17,	-14,	6	),	//	6
		Vertex(-15,	-14,	0	),	//	7
		Vertex(-15,	-12,	0	),	//	8
		Vertex(-9,	-12,	0	),	//	9
		Vertex(-19,	-14,	7	),	//	10
		Vertex(-19,	-12,	0	),	//	11
		Vertex(21,	-12,	0	),	//	12
		Vertex(21,	-12,	2	),	//	13
		Vertex(13,	-14,	6	),	//	14
		Vertex(-19,	-11,	10	),	//	15
		Vertex(-22,	-10,	7	),	//	16
		Vertex(-15,	14,	0	),	//	17
		Vertex(-17,	14,	6	),	//	18
		Vertex(-15,	12,	0	),	//	19
		Vertex(-7,	13,	4	),	//	20
		Vertex(-9,	12,	0	),	//	21
		Vertex(13,	13,	0	),	//	22
		Vertex(7,	13,	4	),	//	23
		Vertex(9,	12,	0	),	//	24
		Vertex(16,	13,	3	),	//	25
		Vertex(15,	12,	0	),	//	26
		Vertex(21,	12,	0	),	//	27
		Vertex(-19,	14,	7	),	//	28
		Vertex(-19,	12,	0	),	//	29
		Vertex(21,	12,	2	),	//	30
		Vertex(13,	14,	6	),	//	31
		Vertex(-19,	11,	10	),	//	32
		Vertex(-22,	10,	7	),	//	33
		Vertex(-15,	10,	10	),	//	34
		Vertex(11,	12,	6	),	//	35
		Vertex(3,	10,	10	),	//	36
		Vertex(13,	0,	6	),	//	37
		Vertex(3,	-10,	10	),	//	38
		Vertex(11,	-12,	6	),	//	39
		Vertex(-15,	-10,	10	) 	//	40
	};
	POLYGONS
	{
		{15,	{	1,	0,	2,	-1	}},	//	0	правое переднее колесо
		{15,	{	3,	1,	2,	-1	}},	//	1	--	центр
		{15,	{	3,	2,	4,	-1	}},	//	2	--	зад
		{15,	{	6,	8,	7,	-1	}},	//	3	правое заднее колесо
		{15,	{	6,	5,	7,	-1	}},	//	4	--	центр
		{15,	{	5,	7,	9,	-1	}},	//	5	--	перед
		{5,		{	10,	11,	12,	-1	}},	//	6	правый борт
		{4,		{	10,	13,	12,	-1	}},	//	7	--
		{3,		{	10,	14,	13,	-1	}},	//	8	--
		{2,		{	15,	10,	14,	-1	}},	//	9	--	верх
		{4,		{	10,	16,	11,	-1	}},	//	10	правый зад
		{8,		{	15,	16,	10,	-1	}},	//	11	правая фара
		{15,	{	18,	17,	19,	-1	}},	//	12	левое заднее колесо
		{15,	{	18,	20,	17,	-1	}},	//	13	--	центр
		{15,	{	20,	21,	17,	-1	}},	//	14	--	перед
		{15,	{	23,	22,	24,	-1	}},	//	15	левое переднее колесо
		{15,	{	23,	25,	22,	-1	}},	//	16	--	центр
		{15,	{	25,	26,	22,	-1	}},	//	17	--	перед
		{5,		{	28,	27,	29,	-1	}},	//	18	левый борт
		{4,		{	28,	30,	27,	-1	}},	//	19	-- 
		{3,		{	28,	31,	30,	-1	}},	//	20	--
		{2,		{	32,	28,	31,	-1	}},	//	21	-- 	верх
		{4,		{	28,	33,	29,	-1	}},	//	22	левый зад
		{8,		{	32,	28,	33,	-1	}},	//	23	левая фара
		{15,	{	34,	36,	35,	-1	}},	//	24	левое окно
		{13,	{	38,	36,	37,	-1	}},	//	25	лобовое стекло
		{14,	{	36,	37,	35,	-1	}},	//	26	--	левое
		{12,	{	38,	39,	37,	-1	}},	//	27	--	правое
		{11,	{	40,	38,	39,	-1	}},	//	28	правое окно
		{0,		{	34,	36,	40,	38	}},	//	29	крыша
		{3,		{	33,	16,	11,	29	}},	//	30	зад
		{0,		{	32,	15,	16,	33	}},	//	31	номер
		{1,		{	15,	32,	31,	14	}},	//	32	кузов
		{2,		{	14,	31,	30,	13	}},	//	33	капот
		{4,		{	30,	13,	12,	27	}},	//	34	перед
		{0,		{	36,	35,	-1,	-1	}},	//	35	левая стойка
		{0,		{	38,	39,	-1,	-1	}}	//	36	правая стойка
	};
	RENDERING
	{
		18,	19,	20,		16,	17,	13,	14,		21,	32,	33,	34,		24,	25, 26, 27,	35,	36,	29,	-1,	//	0..45
		34,		22,	23,	18,	19,	20,	21,		15,	16,	17,	13,	14,		32,	33,		24,	25, 26, 27,	35, 29,	-1,	//	45..90
		30,	31,	22,	23,		18,	19,	20,	21,		14,	15,	16,	17,	12,	13,		33,	32,		25, 26, 27, 24,	35,	29,	-1,	//	90..135
		18,	19,	20,		15,	16,	12,	13,		21,	9,	10,	11,	32,	22,	23,	30,	31,		24,	29,	-1,	//	135..180
		6,	7,	8,	9,		1,	2,	3,	4,		21,	22,	23,	30,	31,	32,	10,	11,		28,	29,	-1,	//	180..225
		30,	31,	10,	11,		6,	7,	8,	9,		0,	1,	2,	3,	4,	5,		33,	32,		28,	25, 26, 27, 36,	29,	-1,	//	225..270
		10,	11,		6,	7,	8,	9,		0,	1,	2,	4,	5,		32,	34,	33,		28,	25, 26, 27, 36,	29,	-1,	//	270..315
		6,	7,	8,		0,	1,	4,	5,		9,	32,	34,	33,		28,	25, 26, 27, 36,	35,	29,	-1,	//	315..360
		9,		21,	22,	23,	30,	31,	32,	10,	11,		29,	-1,	//	специально для вида сзади
	};
END_MODEL ( car_high )




//============================================================
//	Здесь все тела
//============================================================
// тело машины
solid::atom	car_atoms[]=
{
	//	d,	r
	{	-8,	15},
	{	7,	15}
};

solid	car_solid=
{
	car_atoms,
	2,	//	n
	23	//	r
};